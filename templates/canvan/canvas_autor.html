{% extends "base.html" %}

{% load static %}
{% block title %}Canvas Autor{% endblock %}
{% block content %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
<link href="{% static 'css/canvas.css' %}" rel="stylesheet" />

<br>
<h1>Canvas del Autor</h1>

  <!-- Columna "En Progreso" -->
  <div class="column progreso">
    <h2>
      En Progreso
    </h2>
    <ul class="tarjetas" id="en-progreso-list">
      {% if en_progreso %}  
        {% for publicacion in en_progreso %}
        <li class="en_progreso" id="{{ publicacion.id_publicacion }}">
          <a href="{% url 'publicaciones:editar_publicacion_autor' publicacion.id_publicacion %}">{{ publicacion.titulo }} ( <span class="{% if publicacion.estado == 'rechazado' %}rojo{% else %}verde{% endif %}">{{ publicacion.estado }}</span> )</a>
        </li>
        {% endfor %}
      {% else %}
        <p class="completadas" style="color: gray;">No tiene publicaciones disponibles</p>
      {% endif %}
    </ul>

  </div>

  <!-- Columna "Completadas" -->
  <div class="column completada">
    <h2>Completadas</h2>
    <ul class="tarjetas" id="hecho-list">
      {% if completadas %}  
        {% for registro in completadas %}
        <li class="completadas" id="{{ publicacion.id_publicacion }}">
          {{ registro.publicacion_titulo }} con estado {{registro.nuevo_estado}}
        </li>
        {% endfor %}
      {% else %}
        <p class="completadas" style="color: gray;">No tiene publicaciones completadas</p>
      {% endif %}
    </ul>
  </div>

{% endblock %}
