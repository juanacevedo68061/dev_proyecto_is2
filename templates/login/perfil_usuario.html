{% extends 'base.html' %}
{% load static %}

{% block title %}Perfil de {{ usuario.username }}{% endblock %}

{% block content %}
<link href="{% static 'css/perfil_usuario.css' %}" rel="stylesheet" />

<div class="profile-container">
  <div class="profile-image">
    {% if usuario.imagen %}
    <img src="{{ usuario.imagen.url }}" alt="Imagen de perfil">
    {% else %}
    <i class="fas fa-user fa-fw fa-3x" style="color: white;"></i>
    {% endif %}
  </div>

  <div class="user-info">
    <h1 style="font-weight: 700;">{{ usuario.username }}</h1>
    <br>
    <p><span style="font-weight: 600;">Correo electrónico:</span>&nbsp;&nbsp;<span style="color: #777;">{{ usuario.email }}</span></p>
  </div>

  {% if roles %}
  <div class="roles">
    <p>
      <span style="font-weight: 600;">Roles:</span>&nbsp;
      <span style="color: #777;">
        {% for rol in roles %}
        {{ rol.nombre }}
        {% if not forloop.last %}&nbsp;{% endif %} <!-- Coma entre roles excepto el último -->
        {% endfor %}
    </span>
    </p>
  </div>
  {% else %}
  <p>{{ mensaje_roles }}</p>
  {% endif %}

  <div>
    <br>
    <nav class="custom-nav">
      <a class="custom-nav-item" href="{% url 'login:cargar_imagen' %}">Cambiar Foto de Perfil</a>
      <a class="custom-nav-item" href="{% url 'login:perfil_actualizar' %}">Actualizar Perfil</a>
    </nav>
  </div>
  
  
  <hr style="width: 56%;margin: 0 auto; margin-top: 80px;">
</div>

<div class="lista">
  {% if publicaciones %}
    {% include 'cms/publicaciones.html' %}
  {% else %}
    <h5 class="sin_publicaciones"> No has publicado nada aún </h5>
  {% endif %}
  
</div>
{% endblock %}